# dnrm2: sqrt(sum(x[i]^2))
# Pattern: tree with numerical stability (blue zone algorithm)
# BLAS signature: dnrm2_(n, x, incx)

structure dnrm2_

P n: int
D x: n [input]
P incx: int [stride, default=1]

B empty: n_zero | n_positive

L square: x -> x2 (deps=0)
L sum: x2 -> acc (hierarchy_depth=16)
L sqrt: acc -> result (deps=0)

returns: double
