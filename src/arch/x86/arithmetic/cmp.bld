# cmp_rr.bld - CMP r64, r64 instruction
#
# Encodes: REX.W 39 /r
# Input: $src_lo, $src_ext, $dst_lo, $dst_ext
# Output: 3 bytes

structure CmpRR

D bytes: 3 [composed]

B byte: rex | opcode | modrm
  rex -> emit(72 + $src_ext * 4 + $dst_ext)
  opcode -> emit(0x39)
  modrm -> set(mod, 3), set(reg, $src_lo), set(rm, $dst_lo), uses=x86/modrm

returns: output
