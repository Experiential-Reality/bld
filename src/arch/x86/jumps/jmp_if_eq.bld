# jmp_if_eq.bld - Jump if rax == 0
#
# Generates: test rax, rax; je target
# Input: $target (label name)
# Output: x86 code

structure JmpIfEq

D instructions: 2 [composed]

B instruction: test | jump
  # test rax, rax (sets ZF if rax == 0)
  test -> set(src_lo, 0), set(src_ext, 0), set(dst_lo, 0), set(dst_ext, 0), uses=TestRR
  # je target
  jump -> uses=Je

returns: output
